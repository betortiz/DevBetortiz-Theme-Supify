<!-- MOBILE MENU -->
<div class="-mr-2 -my-2 ml-3 md:hidden">
  <button type="button" class="bg-white p-2 inline-flex items-center justify-center focus:outline-none">
    {% render 'icon-menu' %}
  </button>
</div>

<!-- sections/sidebar.liquid -->
<aside x-data="{ open: false }" class="sidebar bg-gray-100 p-4 rounded-lg shadow-md">
  <div class="sidebar__content space-y-2">
    {% for link in linklists['main-menu'].links %}
    {% if link.links != blank %}
    <div class="relative">
      <button x-on:click="open = !open" type="button"
        class="inline-flex items-center text-base uppercase text-blue-500 hover:text-blue-900">
        {{ link.title }}
        {% render 'icon-dropdown' %}
      </button>

      <!-- DROPDOWN MENU -->
      <div x-show="open" @click.away="open = false" x-cloak
        class="absolute z-10 -ml-1 mt-1 transform px-4 w-screen max-w-xs sm:px-0 lg:ml-0 lg:left-1 lg:-translate-x-1">
        <div class="shadow-lg border ring-black ring-opacity-5 overflow-hidden rounded-lg">
          <div class="relative grid gap-6 bg-white px-5 py-6 sm:gap-8 sm:p-8">
            {% for childlink in link.links %}
            <!-- CREATE THE SUBMENU DROPDOWN -->
            <a href="{{ childlink.url }}" class="-m-3 p-3 flex items start rounded-lg hover:bg-gray-100">
              <div class="ml-4">
                <p class="text-gray-900 text-base font-medium">{{ childlink.title }}</p>
              </div>
            </a>
            <!-- END CREATE THE SUBMENU DROPDOWN -->
            {% endfor %}
          </div>
        </div>
      </div>
      <!-- END NAVIGATION MENU -->
    </div>
    {% else %}
    <div class="relative">
      <a href="{{ link.url }}"
        class="{% if link.active == true %}text-red-700 font-bold{% endif %} text-base uppercase text-blue-500 hover:text-blue-900">{{
        link.title }}</a>
    </div>
    {% endif %}
    {% endfor %}
  </div>
</aside>
<!-- End of sections/sidebar.liquid -->